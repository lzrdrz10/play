<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Reproductor - JW Player</title>
  <script src="https://ssl.p.jwpcdn.com/player/v/8.18.4/jwplayer.js"></script>
  <style>
    body { margin: 0; background-color: #000; display: flex; justify-content: center; align-items: center; height: 100vh; }
    #player { width: 80%; max-width: 960px; aspect-ratio: 16/9; }
  </style>
</head>
<body>
  <div id="player">Cargando video...</div>

  <script>
    const params = new URLSearchParams(location.search);
    const id = params.get("id");

    if (!id) {
      document.getElementById("player").innerHTML = "<p style='color: white'>❌ No se proporcionó un ID de video.</p>";
    } else {
      try {
        const url = atob(id); // Desencriptar Base64

        jwplayer("player").setup({
          file: url,
          autostart: false,
          controls: true,
          width: "100%",
          aspectratio: "16:9",
          playbackRateControls: true,
          displayPlaybackLabel: true,
          stretching: "uniform"
        });
      } catch (e) {
        document.getElementById("player").innerHTML = "<p style='color: white'>❌ Enlace inválido o corrupto.</p>";
      }
    }
  </script>
</body>
</html>
